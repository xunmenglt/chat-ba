# Chat-BA é¡¹ç›®ç®€ä»‹

**Chat-BA** æ˜¯ä¸€ä¸ªåŸºäºå¤§è¯­è¨€æ¨¡å‹çš„çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿï¼ˆKBQAï¼‰ï¼Œå…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡æ¡£ã€æ„å»ºçŸ¥è¯†åº“ï¼Œå¹¶é€šè¿‡è‡ªç„¶è¯­è¨€æé—®è·å–ç›¸å…³ä¿¡æ¯ã€‚ç³»ç»Ÿé›†æˆäº†æ–‡æ¡£å¤„ç†ã€å‘é‡å­˜å‚¨å’Œè¯­è¨€æ¨¡å‹ï¼Œèƒ½å¤ŸåŸºäºä¸Šä¼ çš„çŸ¥è¯†æ–‡æ¡£æä¾›æœ‰æ•ˆçš„ç­”æ¡ˆã€‚

---

## âœ¨ ä¸»è¦åŠŸèƒ½

- **çŸ¥è¯†åº“ç®¡ç†**ï¼šåˆ›å»ºã€æŸ¥çœ‹å’Œåˆ é™¤çŸ¥è¯†åº“
- **æ–‡æ¡£ä¸Šä¼ ä¸å¤„ç†**ï¼šæ”¯æŒ PDFã€DOCXã€TXTã€JSONL ç­‰æ ¼å¼
- **è‡ªç„¶è¯­è¨€æŸ¥è¯¢**ï¼šä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹æé—®å¹¶è·å–ç­”æ¡ˆ
- **æ¥æºå¼•ç”¨**ï¼šå±•ç¤ºç­”æ¡ˆå‡ºå¤„ï¼Œä¾¿äºéªŒè¯
- **æ¨¡å‹é€‰æ‹©**ï¼šæ”¯æŒæœ¬åœ°æ¨¡å‹ä¸ API æ¨¡å‹çš„åˆ‡æ¢ä½¿ç”¨

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```text
LLM å±‚
 â””â”€ æœ¬åœ°æ¨¡å‹ / å¤–éƒ¨ API æ¨¡å‹

çŸ¥è¯†å¤„ç†å±‚
 â”œâ”€ åµŒå…¥æ¨¡å‹ï¼ˆbge-large-zhï¼‰
 â”œâ”€ æ–‡æ¡£å¤„ç†å™¨ï¼ˆåŠ è½½å™¨ã€åˆ†å‰²å™¨ï¼‰
 â””â”€ å‘é‡æ•°æ®åº“ï¼ˆQdrantï¼‰

API å±‚
 â””â”€ FastAPI æ¥å£ï¼ˆèŠå¤©ã€é—®ç­”ã€æ–‡ä»¶ç®¡ç†ï¼‰

å®¢æˆ·ç«¯å±‚
 â””â”€ Vue + Element UI Web å‰ç«¯
````

---

## ğŸ”§ æŠ€æœ¯æ ˆ

* **å‰ç«¯**ï¼šVue.js, Element UI, Vuetify, Node20.x
* **åç«¯**ï¼šPython 3.9, FastAPI, LangChain
* **æ•°æ®åº“**ï¼šSQLite
* **å‘é‡åº“**ï¼šQdrant
* **åµŒå…¥æ¨¡å‹**ï¼šBGE-large-zh
* **æ”¯æŒæ¨¡å‹**ï¼š

  * æœ¬åœ°æ¨¡å‹ï¼šChatGLM3ã€Qwen ç³»åˆ—ç­‰
  * API æ¨¡å‹ï¼šåƒå¸† APIã€OpenAI API ç­‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

* Python 3.9
* Node.js 20.x

### å®‰è£…æ­¥éª¤

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/xunmenglt/chat-ba.git  
cd chat-ba

# å®‰è£…åç«¯ä¾èµ–
cd server  
conda activate -n chatba python=3.9  
pip install -r requirements.txt

# å®‰è£…å‰ç«¯ä¾èµ–
cd ../client  
# å¦‚æœæœªå®‰è£…nvmï¼Œè¯·å…ˆå®‰è£…
nvm use 20 
# é…ç½®æ·˜å®é•œåƒæºï¼ˆå¯é€‰ï¼‰
npm config set registry https://registry.npmmirror.com
npm install
```

### å¯åŠ¨é¡¹ç›®

```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd server
./run.sh

# å¯åŠ¨å‰ç«¯æœåŠ¡
cd ../client
npm run serve
```

### è®¿é—®ç³»ç»Ÿ

æµè§ˆå™¨æ‰“å¼€ï¼š`http://localhost:8080`

---

## ğŸ“˜ ä½¿ç”¨æŒ‡å—

### åˆ›å»ºçŸ¥è¯†åº“

1. æ‰“å¼€è®¾ç½®é¢æ¿åˆ›å»ºæ–°çŸ¥è¯†åº“
2. ä¸Šä¼ æ–‡æ¡£ï¼ˆPDFã€DOCXã€TXTã€JSONLï¼‰
3. ç³»ç»Ÿè‡ªåŠ¨å¤„ç†å¹¶å»ºç«‹å‘é‡ç´¢å¼•

### æŸ¥è¯¢çŸ¥è¯†åº“

1. é€‰æ‹©çŸ¥è¯†åº“ `retrieval.vue:396-400`
2. é€‰æ‹©è¯­è¨€æ¨¡å‹
3. è¾“å…¥è‡ªç„¶è¯­è¨€é—®é¢˜ `retrieval.vue:182-184`
4. è¿”å›ç­”æ¡ˆåŠæ¥æºæ–‡æ¡£ `retrieval.vue:144-150`

### é«˜çº§è®¾ç½®

* **æ¨¡æ¿é€‰æ‹©**ï¼šè®¾ç½®æç¤ºæ¨¡æ¿ `retrieval.vue:247`
* **æ–‡æ¡£åŒ¹é…æ•°é‡**ï¼šæ§åˆ¶è¿”å›æ•°é‡ `retrieval.vue:240`
* **ç›¸ä¼¼åº¦é˜ˆå€¼**ï¼šè®¾ç½®åŒ¹é…ç²¾åº¦ `retrieval.vue:242`
* **LLM å‚æ•°**ï¼šæ¸©åº¦ã€top\_pã€max\_tokens `retrieval.vue:241-246`
* **æµå¼è¾“å‡º**ï¼šå¼€å¯/å…³é—­æµå¼å“åº” `retrieval.vue:243`

### æ–‡ä»¶é¢„è§ˆåŠŸèƒ½

| ç±»å‹    | æ–¹æ³•ä½ç½®                      |
| ----- | ------------------------- |
| PDF   | `fileController.py:19-30` |
| QA æ–‡ä»¶ | `fileController.py:32-43` |
| æ–‡æœ¬æ–‡ä»¶  | `fileController.py:45-56` |

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```text
chat-ba/  
â”œâ”€â”€ client/                 # å‰ç«¯ä»£ç   
â”‚   â”œâ”€â”€ src/  
â”‚   â”‚   â”œâ”€â”€ views/          # é¡µé¢è§†å›¾  
â”‚   â”‚   â”‚   â””â”€â”€ retrieval/  # é—®ç­”æ£€ç´¢é¡µ  
â”‚   â”‚   â”œâ”€â”€ components/     # å…¬å…±ç»„ä»¶  
â”‚   â”‚   â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°  
â”‚   â”‚   â””â”€â”€ assets/         # é™æ€èµ„æº  
â”œâ”€â”€ server/                 # åç«¯æœåŠ¡  
â”‚   â”œâ”€â”€ server/  
â”‚   â”‚   â”œâ”€â”€ controller/     # æ¥å£æ§åˆ¶å™¨  
â”‚   â”‚   â”œâ”€â”€ db/             # æ•°æ®åº“é€»è¾‘  
â”‚   â”‚   â”‚   â”œâ”€â”€ mapper/     # ORM æ˜ å°„  
â”‚   â”‚   â”‚   â””â”€â”€ models/     # æ•°æ®æ¨¡å‹  
â”‚   â”‚   â”œâ”€â”€ services/       # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘  
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·æ¨¡å—  
â”‚   â”œâ”€â”€ configs/            # é…ç½®é¡¹  
â”‚   â”œâ”€â”€ lib/                # ç¬¬ä¸‰æ–¹åº“å°è£…  
â”‚   â””â”€â”€ requirements.txt    # åç«¯ä¾èµ–  
â””â”€â”€ README.md
```

---

## ğŸ’¬ èŠå¤©åŠŸèƒ½è¯´æ˜

* ç”¨æˆ·æé—®åè°ƒç”¨åç«¯æœåŠ¡ `retrieval.vue:404-420`
* å®æ—¶å±•ç¤ºå›ç­” `retrieval.vue:423-433`
* å±•ç¤ºæ¥æºæ–‡æ¡£ `retrieval.vue:434-446`

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add some amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. åˆ›å»º Pull Request
---

## ğŸ“¬ è”ç³»æ–¹å¼

é¡¹ç›®ç»´æŠ¤è€…ï¼šå¯»æ¢¦

é‚®ç®±ï¼šxmliuteng@163.com

---

æ„Ÿè°¢ä½¿ç”¨ **Chat-BA**ï¼å¸Œæœ›è¿™ä¸ªå·¥å…·èƒ½å¸®åŠ©æ‚¨æ›´é«˜æ•ˆåœ°ç®¡ç†å’ŒæŸ¥è¯¢çŸ¥è¯†åº“å†…å®¹ã€‚
